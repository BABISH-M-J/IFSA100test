<!--
    Navigation Bar
    Author: Jay Holt jholt@ifsa-butler.org
    Copyright: 2019 Institute for Study Abroad
-->
<nav class="navbar navbar-expand-md navbar-light bg-white" style="box-shadow:0 2px 4px rgba(0,0,0,.1);border-top: 26px solid black;" ng-class="{ 'fixed-top' : viewModel.userProfileName == 'IFSA CHART Student User' || viewModel.userProfileName == 'IFSA Student User' || viewModel.userProfileName == 'IFSA Advisor User' || viewModel.userProfileName == 'IFSA CHART Faculty User'}">
    <a class="navbar-brand purple-primary" href="#/">
        <img ng-src="{{urlService.getLogoUrl()}}" height="40" alt="IFSA CHART LOGO" />
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav mr-auto">
            <form class="form-inline mr-2" ng-submit="searchCourses()" ng-if="!showHome && !loading">
                <div class="ui icon input" ng-class="{'loading' : searching}">
                    <input type="text" ng-model="filterCriteria.searchTerm" placeholder="Class title keyword(s)â€¦"/>
                    <i class="search link icon" ng-click="searchCourses()"></i>
                </div>
            </form>
        </ul>
        <ul class="navbar-nav">
            <!-- <li class="nav-item ifsa-nav-item">
                <a class="nav-link" href="/project/secur/logout.jsp"><i class="fa fa-power-off" aria-hidden="true"></i> Log Out</a>
            </li> -->
            <li class="nav-item">
                <a class="nav-link" href="#/search" uib-tooltip='Class Search' tooltip-placement="bottom" ng-if="!onSearch">
                    <i class="search icon"></i>
                    <span class="d-md-none d-lg-inline"> Search</span>
                </a>
            </li>
            <li class="nav-item" ng-if="showFavorites">
                <span class="nav-link" uib-tooltip='Favorites' tooltip-placement="bottom" ng-show="showFavorites" ng-click="favorites()">
                    <i class="star icon"></i>
                    <span class="d-md-none d-lg-inline"> Favorites</span>
                </span>
            </li>
            <li class="nav-item" ng-if="showClassMatching">
                <a class="nav-link" href="#/projects" uib-tooltip='Class Matching' tooltip-placement="bottom">
                    <i class="tasks icon"></i>
                    <span class="d-md-none d-lg-inline"> Class Matching</span>
                </a>
            </li>
            <li class="nav-item no-wrap" ng-if="viewModel.userProfileName == 'IFSA CHART Student User' || viewModel.applications.length == 0" target="_blank">
                <a class="btn aqua-btn" href="/chart/SP_Login" uib-tooltip='Apply Now' tooltip-placement="bottom">
                <!-- <a class="nav-link aqua-primary" href="/chart/SP_Login" uib-tooltip='Apply Now' tooltip-placement="bottom"> -->
                    <i class="edit icon"></i>
                    <span> Apply Now</span>
                </a>
            </li>
            <li class="nav-item dropdown no-wrap" uib-dropdown ng-if="viewModel.cifAppItems.length">
                <a class="nav-link dropdown-toggle" uib-dropdown-toggle id="cifNavbarDropdown" role="button" aria-haspopup="true" aria-expanded="false" target="_blank"  uib-tooltip='{{cifToolTipText}}' tooltip-placement="bottom-right">
                    <i class="wpforms icon"></i>
                    <span class="d-sm-none d-md-inline"> Class Interest Form</span> 
                </a>
                <div class="dropdown-menu dropdown-menu-right" id="cif-menu" role="menu" uib-dropdown-menu aria-labelledby="cifNavbarDropdown">
                    <a class="dropdown-item" ng-repeat="item in viewModel.cifAppItems" target="_blank" ng-href="/studentportal/#/ClassInterestForm/{{item.Id}}">Class Interest Form - {{item.Application__r.Program_Term__r.Name}}</a>
                </div>
            </li>
            <li class="nav-item dropdown no-wrap" uib-dropdown ng-if="viewModel.userProfileName == 'IFSA CHART Student User' || viewModel.userProfileName == 'IFSA Student User' || viewModel.userProfileName == 'IFSA Advisor User' || viewModel.userProfileName == 'IFSA CHART Faculty User'">
                <a class="nav-link dropdown-toggle" uib-dropdown-toggle id="navbarDropdown" role="button" aria-haspopup="true" aria-expanded="false" target="_blank">
                    <i class="user circle icon"></i>
                    <span class="d-md-none d-lg-inline">{{getFirstName()}}</span>
                </a>
                <div class="dropdown-menu dropdown-menu-right" id="user-menu" role="menu" uib-dropdown-menu aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="/studentportal/#" ng-if="viewModel.userProfileName == 'IFSA Student User'" target="_blank"><i class="sign-in alternate icon"></i> Student Portal</a>
                    <a class="dropdown-item" href="/advisorportal/#" ng-if="viewModel.userProfileName == 'IFSA Advisor User'" target="_blank"><i class="sign-in alternate icon"></i> Advisor Portal</a>
                    <!-- <a class="dropdown-item" href="#"><i class="fa fa-cog" aria-hidden="true"></i> Settings</a> -->
                    <!-- <div class="dropdown-divider"></div> -->
                    <a class="dropdown-item" href="/chart/secur/logout.jsp"><i class="sign-out alternate icon"></i> Log Out</a>
                </div>
            </li>
        </ul>
    </div>
</nav>